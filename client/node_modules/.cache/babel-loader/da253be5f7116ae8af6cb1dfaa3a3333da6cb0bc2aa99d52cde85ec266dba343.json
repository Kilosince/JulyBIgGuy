{"ast":null,"code":"var _jsxFileName = \"C:\\\\react-auth\\\\client\\\\src\\\\components\\\\CreateStore.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport UserContext from '../context/UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateStore = () => {\n  _s();\n  const {\n    authUser\n  } = useContext(UserContext);\n  const [storeName, setStoreName] = useState('');\n  const [storeDescription, setStoreDescription] = useState('');\n  const [storeLocation, setStoreLocation] = useState('');\n  const [items, setItems] = useState([{\n    _id: '',\n    title: '',\n    price: '',\n    quantity: '',\n    description: '',\n    highlightColorIndex: 0\n  }]);\n  const [flashMessage, setFlashMessage] = useState('');\n  useEffect(() => {\n    const fetchStoreData = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/api/users/${encodeURIComponent(authUser._id)}/store`);\n        if (response.status === 200) {\n          const store = response.data;\n          setStoreName(store.name);\n          setStoreDescription(store.description);\n          setStoreLocation(store.location);\n          setItems(store.items || []);\n        } else {\n          console.error('Error fetching store data: status', response.status);\n        }\n      } catch (error) {\n        console.error('Error fetching store data:', error);\n      }\n    };\n    if (authUser && authUser._id) {\n      fetchStoreData();\n    }\n  }, [authUser]);\n  const handleStoreNameChange = e => {\n    setStoreName(e.target.value);\n  };\n  const handleStoreDescriptionChange = e => {\n    setStoreDescription(e.target.value);\n  };\n  const handleStoreLocationChange = e => {\n    setStoreLocation(e.target.value);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!storeName || !storeDescription || !storeLocation) {\n      setFlashMessage('Please fill in all fields');\n      return;\n    }\n    const storeData = {\n      name: storeName,\n      description: storeDescription,\n      location: storeLocation,\n      items: items\n    };\n    try {\n      const response = await axios.post(`http://localhost:5000/api/users/${encodeURIComponent(authUser._id)}/store`, storeData);\n      if (response.status === 201) {\n        setFlashMessage('Store created successfully');\n      } else {\n        setFlashMessage('Failed to create store');\n      }\n    } catch (error) {\n      console.error('Error creating store:', error);\n      setFlashMessage('Error creating store');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [flashMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        marginBottom: '10px'\n      },\n      children: flashMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Store Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: storeName,\n          onChange: handleStoreNameChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Store Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: storeDescription,\n          onChange: handleStoreDescriptionChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Store Location:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: storeLocation,\n          onChange: handleStoreLocationChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Create Store\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateStore, \"NrFy9SD6gJcLMIBwlv1TsjYua+o=\");\n_c = CreateStore;\nexport default CreateStore;\nvar _c;\n$RefreshReg$(_c, \"CreateStore\");","map":{"version":3,"names":["React","useState","useEffect","useContext","axios","UserContext","jsxDEV","_jsxDEV","CreateStore","_s","authUser","storeName","setStoreName","storeDescription","setStoreDescription","storeLocation","setStoreLocation","items","setItems","_id","title","price","quantity","description","highlightColorIndex","flashMessage","setFlashMessage","fetchStoreData","response","get","encodeURIComponent","status","store","data","name","location","console","error","handleStoreNameChange","e","target","value","handleStoreDescriptionChange","handleStoreLocationChange","handleSubmit","preventDefault","storeData","post","children","style","color","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","required","_c","$RefreshReg$"],"sources":["C:/react-auth/client/src/components/CreateStore.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport UserContext from '../context/UserContext';\r\n\r\nconst CreateStore = () => {\r\n  const { authUser } = useContext(UserContext);\r\n  const [storeName, setStoreName] = useState('');\r\n  const [storeDescription, setStoreDescription] = useState('');\r\n  const [storeLocation, setStoreLocation] = useState('');\r\n  const [items, setItems] = useState([{ _id: '', title: '', price: '', quantity: '', description: '', highlightColorIndex: 0 }]);\r\n  const [flashMessage, setFlashMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchStoreData = async () => {\r\n      try {\r\n        const response = await axios.get(`http://localhost:5000/api/users/${encodeURIComponent(authUser._id)}/store`);\r\n        if (response.status === 200) {\r\n          const store = response.data;\r\n          setStoreName(store.name);\r\n          setStoreDescription(store.description);\r\n          setStoreLocation(store.location);\r\n          setItems(store.items || []);\r\n        } else {\r\n          console.error('Error fetching store data: status', response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching store data:', error);\r\n      }\r\n    };\r\n\r\n    if (authUser && authUser._id) {\r\n      fetchStoreData();\r\n    }\r\n  }, [authUser]);\r\n\r\n  const handleStoreNameChange = (e) => {\r\n    setStoreName(e.target.value);\r\n  };\r\n\r\n  const handleStoreDescriptionChange = (e) => {\r\n    setStoreDescription(e.target.value);\r\n  };\r\n\r\n  const handleStoreLocationChange = (e) => {\r\n    setStoreLocation(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!storeName || !storeDescription || !storeLocation) {\r\n      setFlashMessage('Please fill in all fields');\r\n      return;\r\n    }\r\n\r\n    const storeData = {\r\n      name: storeName,\r\n      description: storeDescription,\r\n      location: storeLocation,\r\n      items: items\r\n    };\r\n\r\n    try {\r\n      const response = await axios.post(`http://localhost:5000/api/users/${encodeURIComponent(authUser._id)}/store`, storeData);\r\n      if (response.status === 201) {\r\n        setFlashMessage('Store created successfully');\r\n      } else {\r\n        setFlashMessage('Failed to create store');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating store:', error);\r\n      setFlashMessage('Error creating store');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {flashMessage && <div style={{ color: 'red', marginBottom: '10px' }}>{flashMessage}</div>}\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <label>Store Name:</label>\r\n          <input type=\"text\" value={storeName} onChange={handleStoreNameChange} required />\r\n        </div>\r\n        <div>\r\n          <label>Store Description:</label>\r\n          <input type=\"text\" value={storeDescription} onChange={handleStoreDescriptionChange} required />\r\n        </div>\r\n        <div>\r\n          <label>Store Location:</label>\r\n          <input type=\"text\" value={storeLocation} onChange={handleStoreLocationChange} required />\r\n        </div>\r\n        <button type=\"submit\">Create Store</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateStore;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}