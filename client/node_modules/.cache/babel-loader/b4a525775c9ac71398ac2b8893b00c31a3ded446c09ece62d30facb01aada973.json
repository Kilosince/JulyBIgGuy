{"ast":null,"code":"export const api = (path, method = 'GET', body = null, credentials = null) => {\n  const url = \"http://localhost:5000/api\" + path;\n  const options = {\n    method,\n    headers: {}\n  };\n  if (body) {\n    options.body = JSON.stringify(body);\n    options.headers[\"Content-Type\"] = \"application/json; charset=utf-8\";\n  }\n  if (credentials) {\n    const encodedCredentials = btoa(`${credentials.username}:${credentials.password}`);\n    options.headers.Authorization = `Basic ${encodedCredentials}`;\n  }\n  return fetch(url, options).then(response => {\n    if (!response.ok) {\n      return response.json().then(error => {\n        throw new Error(error.message || 'API request failed');\n      });\n    }\n    return response.json();\n  });\n};","map":{"version":3,"names":["api","path","method","body","credentials","url","options","headers","JSON","stringify","encodedCredentials","btoa","username","password","Authorization","fetch","then","response","ok","json","error","Error","message"],"sources":["C:/react-auth/client/src/utils/apiHelper.js"],"sourcesContent":["export const api = (path, method = 'GET', body = null, credentials = null) => {\r\n  const url = \"http://localhost:5000/api\" + path;\r\n\r\n  const options = {\r\n    method,\r\n    headers: {}\r\n  };\r\n\r\n  if (body) {\r\n    options.body = JSON.stringify(body);\r\n    options.headers[\"Content-Type\"] = \"application/json; charset=utf-8\";\r\n  }\r\n\r\n  if (credentials) {\r\n    const encodedCredentials = btoa(`${credentials.username}:${credentials.password}`);\r\n    options.headers.Authorization = `Basic ${encodedCredentials}`;\r\n  }\r\n\r\n  return fetch(url, options).then(response => {\r\n    if (!response.ok) {\r\n      return response.json().then(error => {\r\n        throw new Error(error.message || 'API request failed');\r\n      });\r\n    }\r\n    return response.json();\r\n  });\r\n};\r\n"],"mappings":"AAAA,OAAO,MAAMA,GAAG,GAAGA,CAACC,IAAI,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,EAAEC,WAAW,GAAG,IAAI,KAAK;EAC5E,MAAMC,GAAG,GAAG,2BAA2B,GAAGJ,IAAI;EAE9C,MAAMK,OAAO,GAAG;IACdJ,MAAM;IACNK,OAAO,EAAE,CAAC;EACZ,CAAC;EAED,IAAIJ,IAAI,EAAE;IACRG,OAAO,CAACH,IAAI,GAAGK,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC;IACnCG,OAAO,CAACC,OAAO,CAAC,cAAc,CAAC,GAAG,iCAAiC;EACrE;EAEA,IAAIH,WAAW,EAAE;IACf,MAAMM,kBAAkB,GAAGC,IAAI,CAAE,GAAEP,WAAW,CAACQ,QAAS,IAAGR,WAAW,CAACS,QAAS,EAAC,CAAC;IAClFP,OAAO,CAACC,OAAO,CAACO,aAAa,GAAI,SAAQJ,kBAAmB,EAAC;EAC/D;EAEA,OAAOK,KAAK,CAACV,GAAG,EAAEC,OAAO,CAAC,CAACU,IAAI,CAACC,QAAQ,IAAI;IAC1C,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;MAChB,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC,CAACH,IAAI,CAACI,KAAK,IAAI;QACnC,MAAM,IAAIC,KAAK,CAACD,KAAK,CAACE,OAAO,IAAI,oBAAoB,CAAC;MACxD,CAAC,CAAC;IACJ;IACA,OAAOL,QAAQ,CAACE,IAAI,CAAC,CAAC;EACxB,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}