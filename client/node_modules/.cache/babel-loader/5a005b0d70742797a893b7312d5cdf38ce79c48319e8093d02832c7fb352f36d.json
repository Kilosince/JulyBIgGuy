{"ast":null,"code":"import dotenv from 'dotenv';\nimport { MongoClient, ServerApiVersion } from 'mongodb';\ndotenv.config();\nconst uri = process.env.ATLAS_URI;\nlet db;\nasync function connectToDatabase() {\n  if (!db) {\n    try {\n      const client = new MongoClient(uri, {\n        useNewUrlParser: true,\n        useUnifiedTopology: true\n      });\n      await client.connect();\n      db = client.db(process.env.DB_NAME); // Use the database name from environment variables\n      console.log('Database Touchdown');\n    } catch (err) {\n      console.error('Turnover on downs', err);\n      throw err;\n    }\n  }\n  return db;\n}\nexport default connectToDatabase;","map":{"version":3,"names":["dotenv","MongoClient","ServerApiVersion","config","uri","process","env","ATLAS_URI","db","connectToDatabase","client","useNewUrlParser","useUnifiedTopology","connect","DB_NAME","console","log","err","error"],"sources":["C:/react-auth/client/src/db/connection.js"],"sourcesContent":["import dotenv from 'dotenv';\r\nimport { MongoClient, ServerApiVersion } from 'mongodb';\r\n\r\ndotenv.config();\r\n\r\nconst uri = process.env.ATLAS_URI;\r\nlet db;\r\n\r\nasync function connectToDatabase() {\r\n  if (!db) {\r\n    try {\r\n      const client = new MongoClient(uri, { useNewUrlParser: true, useUnifiedTopology: true });\r\n      await client.connect();\r\n      db = client.db(process.env.DB_NAME); // Use the database name from environment variables\r\n      console.log('Database Touchdown');\r\n    } catch (err) {\r\n      console.error('Turnover on downs', err);\r\n      throw err;\r\n    }\r\n  }\r\n  return db;\r\n}\r\nexport default connectToDatabase;"],"mappings":"AAAA,OAAOA,MAAM,MAAM,QAAQ;AAC3B,SAASC,WAAW,EAAEC,gBAAgB,QAAQ,SAAS;AAEvDF,MAAM,CAACG,MAAM,CAAC,CAAC;AAEf,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,SAAS;AACjC,IAAIC,EAAE;AAEN,eAAeC,iBAAiBA,CAAA,EAAG;EACjC,IAAI,CAACD,EAAE,EAAE;IACP,IAAI;MACF,MAAME,MAAM,GAAG,IAAIT,WAAW,CAACG,GAAG,EAAE;QAAEO,eAAe,EAAE,IAAI;QAAEC,kBAAkB,EAAE;MAAK,CAAC,CAAC;MACxF,MAAMF,MAAM,CAACG,OAAO,CAAC,CAAC;MACtBL,EAAE,GAAGE,MAAM,CAACF,EAAE,CAACH,OAAO,CAACC,GAAG,CAACQ,OAAO,CAAC,CAAC,CAAC;MACrCC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;IACnC,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZF,OAAO,CAACG,KAAK,CAAC,mBAAmB,EAAED,GAAG,CAAC;MACvC,MAAMA,GAAG;IACX;EACF;EACA,OAAOT,EAAE;AACX;AACA,eAAeC,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}