{"ast":null,"code":"var _jsxFileName = \"C:\\\\react-auth\\\\client\\\\src\\\\components\\\\Settings.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport UserContext from \"../context/UserContext\";\nimport DarkMode from \"./themes/DarkMode\";\nimport AccentColor from \"./themes/AccentColor\";\nimport FontSize from \"./themes/FontSize\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Settings() {\n  _s();\n  const {\n    authUser,\n    setAuthUser\n  } = useContext(UserContext);\n  const [confirmName, setConfirmName] = useState(\"\");\n  const [isDeleting, setIsDeleting] = useState(false);\n  const navigate = useNavigate();\n  const handleDeleteUser = async () => {\n    if (confirmName !== authUser.name) {\n      alert(\"Name does not match. Please type your name correctly to confirm.\");\n      return;\n    }\n    if (window.confirm('Are you sure you want to delete your account? This action cannot be undone.')) {\n      try {\n        const response = await axios.delete(`http://localhost:5000/api/users/${encodeURIComponent(authUser._id)}`);\n        if (response.status === 200) {\n          alert('Account deleted successfully.');\n          // Clear user context and local storage\n          setAuthUser(null);\n          localStorage.removeItem('token');\n          // Redirect to /sign route\n          navigate('/sign');\n        } else {\n          console.error('Error deleting account: status', response.status);\n        }\n      } catch (error) {\n        console.error('Error deleting account:', error);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bounds\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Preferences\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DarkMode, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AccentColor, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FontSize, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Type your name to confirm\",\n          value: confirmName,\n          onChange: e => setConfirmName(e.target.value),\n          style: {\n            marginRight: '10px',\n            padding: '10px',\n            borderRadius: '5px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsDeleting(true),\n          style: {\n            backgroundColor: 'red',\n            color: 'white',\n            padding: '10px',\n            borderRadius: '5px'\n          },\n          children: \"Delete Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), isDeleting && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDeleteUser,\n          style: {\n            backgroundColor: 'red',\n            color: 'white',\n            padding: '10px',\n            borderRadius: '5px'\n          },\n          children: \"Confirm Account Deletion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsDeleting(false),\n          style: {\n            backgroundColor: 'grey',\n            color: 'white',\n            padding: '10px',\n            borderRadius: '5px',\n            marginLeft: '10px'\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(Settings, \"+wr2G3wHvDxa8P8Llk3w1JTiPko=\", false, function () {\n  return [useNavigate];\n});\n_c = Settings;\nexport default Settings;\nvar _c;\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"names":["React","useContext","useState","axios","useNavigate","UserContext","DarkMode","AccentColor","FontSize","jsxDEV","_jsxDEV","Settings","_s","authUser","setAuthUser","confirmName","setConfirmName","isDeleting","setIsDeleting","navigate","handleDeleteUser","name","alert","window","confirm","response","delete","encodeURIComponent","_id","status","localStorage","removeItem","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","type","placeholder","value","onChange","e","target","marginRight","padding","borderRadius","onClick","backgroundColor","color","marginLeft","_c","$RefreshReg$"],"sources":["C:/react-auth/client/src/components/Settings.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport UserContext from \"../context/UserContext\";\nimport DarkMode from \"./themes/DarkMode\";\nimport AccentColor from \"./themes/AccentColor\";\nimport FontSize from \"./themes/FontSize\";\n\nfunction Settings() {\n  const { authUser, setAuthUser } = useContext(UserContext);\n  const [confirmName, setConfirmName] = useState(\"\");\n  const [isDeleting, setIsDeleting] = useState(false);\n  const navigate = useNavigate();\n\n  const handleDeleteUser = async () => {\n    if (confirmName !== authUser.name) {\n      alert(\"Name does not match. Please type your name correctly to confirm.\");\n      return;\n    }\n\n    if (window.confirm('Are you sure you want to delete your account? This action cannot be undone.')) {\n      try {\n        const response = await axios.delete(`http://localhost:5000/api/users/${encodeURIComponent(authUser._id)}`);\n        if (response.status === 200) {\n          alert('Account deleted successfully.');\n          // Clear user context and local storage\n          setAuthUser(null);\n          localStorage.removeItem('token');\n          // Redirect to /sign route\n          navigate('/sign');\n        } else {\n          console.error('Error deleting account: status', response.status);\n        }\n      } catch (error) {\n        console.error('Error deleting account:', error);\n      }\n    }\n  };\n\n  return (\n    <div className=\"bounds\">\n      <div className=\"grid-100\">\n        <h1>Preferences</h1>\n        <DarkMode />\n        <AccentColor />\n        <FontSize />\n        <div style={{ marginTop: '20px' }}>\n          <input \n            type=\"text\" \n            placeholder=\"Type your name to confirm\" \n            value={confirmName}\n            onChange={(e) => setConfirmName(e.target.value)} \n            style={{ marginRight: '10px', padding: '10px', borderRadius: '5px' }}\n          />\n          <button \n            onClick={() => setIsDeleting(true)} \n            style={{ backgroundColor: 'red', color: 'white', padding: '10px', borderRadius: '5px' }}\n          >\n            Delete Account\n          </button>\n        </div>\n        {isDeleting && (\n          <div style={{ marginTop: '20px' }}>\n            <button \n              onClick={handleDeleteUser} \n              style={{ backgroundColor: 'red', color: 'white', padding: '10px', borderRadius: '5px' }}\n            >\n              Confirm Account Deletion\n            </button>\n            <button \n              onClick={() => setIsDeleting(false)} \n              style={{ backgroundColor: 'grey', color: 'white', padding: '10px', borderRadius: '5px', marginLeft: '10px' }}\n            >\n              Cancel\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Settings;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}