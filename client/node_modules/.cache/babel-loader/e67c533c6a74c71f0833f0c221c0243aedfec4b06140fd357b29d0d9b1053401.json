{"ast":null,"code":"var _jsxFileName = \"C:\\\\react-auth\\\\client\\\\src\\\\components\\\\CreateStore.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport UserContext from '../context/UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateStore = () => {\n  _s();\n  const {\n    authUser\n  } = useContext(UserContext);\n  const [storeName, setStoreName] = useState('');\n  const [storeDescription, setStoreDescription] = useState('');\n  const [storeLocation, setStoreLocation] = useState('');\n  const [items, setItems] = useState([{\n    _id: '',\n    title: '',\n    price: '',\n    quantity: '',\n    description: '',\n    highlightColorIndex: 0\n  }]);\n  const [storeExists, setStoreExists] = useState(false);\n  const [flashMessage, setFlashMessage] = useState('');\n  useEffect(() => {\n    const fetchStoreData = async () => {\n      try {\n        const response = await axios.get(`http://localhost:5000/api/users/${encodeURIComponent(authUser._id)}/store`);\n        if (response.status === 200) {\n          setStoreExists(true);\n          const store = response.data;\n          setStoreName(store.name);\n          setStoreDescription(store.description);\n          setStoreLocation(store.location);\n          setItems(store.items || []);\n        } else {\n          console.error('Error fetching store data: status', response.status);\n        }\n      } catch (error) {\n        console.error('Error fetching store data:', error);\n      }\n    };\n    if (authUser && authUser._id) {\n      fetchStoreData();\n    }\n  }, [authUser]);\n  const handleStoreNameChange = e => {\n    setStoreName(e.target.value);\n  };\n  const handleStoreDescriptionChange = e => {\n    setStoreDescription(e.target.value);\n  };\n  const handleStoreLocationChange = e => {\n    setStoreLocation(e.target.value);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!storeName || !storeDescription || !storeLocation) {\n      setFlashMessage('Please fill in all fields');\n      return;\n    }\n    const storeData = {\n      name: storeName,\n      description: storeDescription,\n      location: storeLocation,\n      items: items\n    };\n    try {\n      const response = await axios.post(`http://localhost:5000/api/users/${encodeURIComponent(authUser._id)}/store`, storeData);\n      if (response.status === 201) {\n        setFlashMessage('Store created successfully');\n        setStoreExists(true);\n      } else {\n        setFlashMessage('Failed to create store');\n      }\n    } catch (error) {\n      console.error('Error creating store:', error);\n      setFlashMessage('Error creating store');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [flashMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        marginBottom: '10px'\n      },\n      children: flashMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Store Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: storeName,\n          onChange: handleStoreNameChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Store Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: storeDescription,\n          onChange: handleStoreDescriptionChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Store Location:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: storeLocation,\n          onChange: handleStoreLocationChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Create Store\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateStore, \"UuDXKTrbFGtpwT0rnf7is9IYm5I=\");\n_c = CreateStore;\nexport default CreateStore;\nvar _c;\n$RefreshReg$(_c, \"CreateStore\");","map":{"version":3,"names":["React","useState","useEffect","useContext","axios","UserContext","jsxDEV","_jsxDEV","CreateStore","_s","authUser","storeName","setStoreName","storeDescription","setStoreDescription","storeLocation","setStoreLocation","items","setItems","_id","title","price","quantity","description","highlightColorIndex","storeExists","setStoreExists","flashMessage","setFlashMessage","fetchStoreData","response","get","encodeURIComponent","status","store","data","name","location","console","error","handleStoreNameChange","e","target","value","handleStoreDescriptionChange","handleStoreLocationChange","handleSubmit","preventDefault","storeData","post","children","style","color","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","required","_c","$RefreshReg$"],"sources":["C:/react-auth/client/src/components/CreateStore.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport UserContext from '../context/UserContext';\r\n\r\nconst CreateStore = () => {\r\n  const { authUser } = useContext(UserContext);\r\n  const [storeName, setStoreName] = useState('');\r\n  const [storeDescription, setStoreDescription] = useState('');\r\n  const [storeLocation, setStoreLocation] = useState('');\r\n  const [items, setItems] = useState([{ _id: '', title: '', price: '', quantity: '', description: '', highlightColorIndex: 0 }]);\r\n  const [storeExists, setStoreExists] = useState(false);\r\n  const [flashMessage, setFlashMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchStoreData = async () => {\r\n      try {\r\n        const response = await axios.get(`http://localhost:5000/api/users/${encodeURIComponent(authUser._id)}/store`);\r\n        if (response.status === 200) {\r\n          setStoreExists(true);\r\n          const store = response.data;\r\n          setStoreName(store.name);\r\n          setStoreDescription(store.description);\r\n          setStoreLocation(store.location);\r\n          setItems(store.items || []);\r\n        } else {\r\n          console.error('Error fetching store data: status', response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching store data:', error);\r\n      }\r\n    };\r\n\r\n    if (authUser && authUser._id) {\r\n      fetchStoreData();\r\n    }\r\n  }, [authUser]);\r\n\r\n  const handleStoreNameChange = (e) => {\r\n    setStoreName(e.target.value);\r\n  };\r\n\r\n  const handleStoreDescriptionChange = (e) => {\r\n    setStoreDescription(e.target.value);\r\n  };\r\n\r\n  const handleStoreLocationChange = (e) => {\r\n    setStoreLocation(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!storeName || !storeDescription || !storeLocation) {\r\n      setFlashMessage('Please fill in all fields');\r\n      return;\r\n    }\r\n\r\n    const storeData = {\r\n      name: storeName,\r\n      description: storeDescription,\r\n      location: storeLocation,\r\n      items: items\r\n    };\r\n\r\n    try {\r\n      const response = await axios.post(`http://localhost:5000/api/users/${encodeURIComponent(authUser._id)}/store`, storeData);\r\n      if (response.status === 201) {\r\n        setFlashMessage('Store created successfully');\r\n        setStoreExists(true);\r\n      } else {\r\n        setFlashMessage('Failed to create store');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating store:', error);\r\n      setFlashMessage('Error creating store');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {flashMessage && <div style={{ color: 'red', marginBottom: '10px' }}>{flashMessage}</div>}\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <label>Store Name:</label>\r\n          <input type=\"text\" value={storeName} onChange={handleStoreNameChange} required />\r\n        </div>\r\n        <div>\r\n          <label>Store Description:</label>\r\n          <input type=\"text\" value={storeDescription} onChange={handleStoreDescriptionChange} required />\r\n        </div>\r\n        <div>\r\n          <label>Store Location:</label>\r\n          <input type=\"text\" value={storeLocation} onChange={handleStoreLocationChange} required />\r\n        </div>\r\n        <button type=\"submit\">Create Store</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateStore;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}